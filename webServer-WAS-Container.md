## 웹 서버, 웹 애플리케이션 서버, 컨테이너
* why?     
    면접 질문 중 `웹 서버와 서블릿의 차이가 무엇인가요?`에 대답하지 못해 학습하게 되었다.
### 정적인 페이지
여기서 정적 리소스란? html, css, js, image 같은 요소들이 있다. js는 클라이언트 단에서 html과 css를 컨트롤하는데 사용된다. -> 파일의 형태로 보내기 때문에 정적인 요소로 봐도 무방.

서버에 미리 저장된 파일이 그대로 전달되는 웹 페이지
서버는 사용자의 요청에 해당하는 저장된 웹 페이지를 보냄
서버에 저장된 데이터가 변경되지 않는 한 고정된 웹 페이지를 보게 됨

### 동적 페이지
서버 & 데이터베이스에서 정보를 가져와 처리하는 것처럼 어떠한 요청에 의하여 서버가 일을 수행하고 해당 결과가 포함된 파일을 보여주는 페이지이다. 사용자마다 다른 페이지가 보여질 수 있다.

서버에 있는 데이터들을 스크립트에 의해 가공처리한 후 생성되어 전달되는 웹 페이지
사용자의 요청을 해석하여 데이터를 가공한 후 생성되는 웹 페이지를 보냄

### Web Server
웹 서버는 클라이언트가 요청한 정적인 콘텐츠를 HTTP 프로토콜을 통해 제공해주는 서버 -> 정적 컨텐츠 제공이 가장 큰 역할
또한, 동적인 요청이 들어왔을 대, 동적 컨텐츠를 처리할 수 있는 컨테이너로 보내는 역할을 한다.

ex. Nginx, 아파치

### CGI (Common Gateway Interface)
웹 서버 상에서 프로그램을 동작시키기 위한 방법을 정의한 프로그램 (인터페이스)
웹 서버와 외부 프로그램 사이에서 정보를 주고 받는 방법이나 규약
두 개 이상의 컴퓨터 간의 자료들을 주고 받는 프로그램 (주고 받는 것 그 자체를 의미하기도 함.)

PHP, Python등의 언어는 Apache를 통해 CGI를 적용시키는 것이 가능한데, JAVA는 안된다.  -> 자바는 CGI와 같은 기능을 위해 컨테이너라는 것이 필요하다.


### Web Container
웹 컨테이너는 자바 서블릿과 상호작용하는 WAS의 구성 요소이다.
서블릿의 생명 주기를 관리한다.
* 서블릿을 로드해 초기화한다.
* 클라이언트의 요청으로 서블릿 메서드를 호출한다.
* 서블릿 컨테이너가 종료되면 서블릿을 종료시키고 메모리를 정리한다.
  -> WAS 내부에서 개발자 대신 서블릿을 관리한다.

- - - -

컨테이너는 동적인 데이터를 처리하여 정적인 페이지로 생성해주는 모듈
-> 동적인 요청이 들어왔을 때 처리하여 웹 서버에 정적인 파일로 만들어서 보내주는 모듈
php, ejs 파일로 만든 소스 코드도 모두 html로 전송된다. 이와 같이 동적인 요청이 들어왔을 때 해당 파일에서 처리해야할 부분을 처리한 뒤, 정적 파일로 변환하여 클라이언트에게 전송했다고 생각할 수 있다. (코드 처리 부분은 클라이언트가 확인할 수 없다.)
-> 자바에서는 서블릿이 이 역할을 수행한다.

#### 서블릿이란?
서버에서 실행하는 작은 프로그램 조각. 동적 자원을 생성한다.

> 웹 서버와 서블릿의 차이는?  
> 웹 서버는 정적인 자원을 처리, 서블릿은 동적 자원을 생성하는 역할을 수행하는 프로그램. 서블릿 컨테이너(웹 컨테이너)는 이러한 서블릿에 대해 동적인 자원 요청이 왔을 때 적절한 핸들러로 매핑해서 작업을 수행하고 이 결과를 정적인 파일로 만들어 클라이언트에게 전달해주는 역할.

### Web Application Server
웹 서버로부터 오는 동적인 요청을 처리하는 서버. 웹 서버 + 컨테이너 (미들웨어)
ex. tomcat

웹 서버와 WAS는 독립적으로 존재할 수 있다. 대부분의 애플리케이션 서버는 정적인 컨텐츠 제공 기능도 포함되어있기 때문에 웹 서버 없이 존재할 수 있다.

### 왜 WAS와 Web Server를 분리할까?
1. WAS의 부담을 줄이기 위해
2. WAS의 환경 설정 파일을 외부에 노출시키지 않기 위해

### 참고 자료
* [WAS와 Server의 차이? 그리고 Web Container 란? | 개발 공부 저장소](https://doozi316.github.io/web/2020/09/13/WEB26/)
* [Servlet 웹서버 vs 애플리케이션 서버 vs 서블릿 컨테이너 - Tomcat 은 서블릿 컨테이너일까?](https://pjh3749.tistory.com/267)
* [웹 서버와 WAS, 컨테이너의 개념 알아보기 - Easy is Perfect](http://melonicedlatte.com/web/2019/06/23/210300.html)
